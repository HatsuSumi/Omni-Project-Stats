# Omni-Project-Stats (å…¨é¡¹ç›®ç»Ÿè®¡å·¥å…·)

ä¸€ä¸ªå•æ–‡ä»¶ã€é›¶ä¾èµ–ã€è·¨å¹³å°çš„é€šç”¨é¡¹ç›®ç»Ÿè®¡å·¥å…·ã€‚

å®ƒä¸ä»…èƒ½ç»Ÿè®¡ä»£ç ï¼ˆæ™ºèƒ½å»é™¤æ³¨é‡Šä¸ç©ºè¡Œï¼‰ï¼Œè¿˜èƒ½æ·±å…¥ç»Ÿè®¡ç¾æœ¯èµ„æºã€éŸ³é¢‘ã€æ¸¸æˆå·¥ç¨‹æ–‡ä»¶ç­‰ï¼Œç‰¹åˆ«é€‚åˆ**æ¸¸æˆå¼€å‘**ã€**å¤šåª’ä½“é¡¹ç›®**æˆ–**å…¨æ ˆå·¥ç¨‹**çš„ä½“é‡åˆ†æã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

*   **åŒæ¨¡è¿è¡Œ**ï¼š
    *   ğŸ–¥ï¸ **GUI æ¨¡å¼**ï¼šåŒå‡»å³ç”¨ï¼Œæä¾›ç°ä»£åŒ–å›¾å½¢ç•Œé¢ï¼Œä¸€é”®æ‰«æï¼Œå®æ—¶æ—¥å¿—ï¼Œæ”¯æŒç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ã€‚
    *   âŒ¨ï¸ **CLI æ¨¡å¼**ï¼šå‘½ä»¤è¡Œè¿è¡Œï¼Œæ”¯æŒè‡ªåŠ¨åŒ–è„šæœ¬é›†æˆï¼Œè¾“å‡ºè¯¦ç»†æ–‡æœ¬æŠ¥å‘Šã€‚
*   **å…¨èƒ½ç»Ÿè®¡**ï¼š
    *   **ä»£ç **ï¼šæ”¯æŒ C/C++, C#, Python, JS/TS, Java, Go, Rust, Lua, Shader (HLSL/GLSL) ç­‰ 50+ ç§è¯­è¨€ã€‚
    *   **èµ„æº**ï¼šè¯†åˆ« 3D æ¨¡å‹ (FBX/OBJ/Blend), 2D è´´å›¾ (PSD/PNG/TGA), éŸ³é¢‘ (WAV/MP3/Wwise), è§†é¢‘ç­‰ã€‚
    *   **å¼•æ“**ï¼šæ·±åº¦è¯†åˆ« Unity, Unreal, Godot, RPG Maker, Cocos ç­‰å·¥ç¨‹æ–‡ä»¶ã€‚
*   **æ™ºèƒ½åˆ†æ**ï¼š
    *   ç²¾å‡†å‰¥ç¦»æ³¨é‡Šï¼ˆæ”¯æŒ `//`, `/* */`, `#`, `<!-- -->`, `rem` ç­‰å¤šç§é£æ ¼ï¼‰ã€‚
    *   è‡ªåŠ¨å¿½ç•¥äºŒè¿›åˆ¶æ–‡ä»¶ä¸å¸¸è§å¹²æ‰°ç›®å½•ï¼ˆ`.git`, `node_modules` ç­‰ï¼‰ã€‚
*   **é›¶ä¾èµ–**ï¼š
    *   åŸºäº Python æ ‡å‡†åº“ç¼–å†™ (`tkinter`, `argparse`, `pathlib`)ã€‚
    *   æ— éœ€ `pip install`ï¼Œä¸‹è½½å•æ–‡ä»¶ `project_stats.py` å³å¯è¿è¡Œã€‚
*   **å¯è§†åŒ–æŠ¥è¡¨**ï¼š
    *   ä¸€é”®ç”Ÿæˆ `project_stats_report.html`ã€‚
    *   å†…åµŒ ECharts å›¾è¡¨ï¼Œç›´è§‚å±•ç¤ºä»£ç é‡åˆ†å¸ƒã€èµ„æºå¤§å°å æ¯”ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨å›¾å½¢ç•Œé¢ (GUI)

ç›´æ¥è¿è¡Œè„šæœ¬ï¼ˆä¸å¸¦å‚æ•°ï¼‰ï¼š

```bash
python project_stats.py
```

*   **æ“ä½œ**ï¼šç‚¹å‡» `ğŸ“‚ é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹` -> å‹¾é€‰é€‰é¡¹ -> ç‚¹å‡» `ğŸš€ å¼€å§‹æ‰«æé¡¹ç›®`ã€‚
*   **ç»“æœ**ï¼šæ‰«æå®Œæˆåï¼Œå¯ç‚¹å‡»åº•éƒ¨çš„ `ğŸŒ åœ¨æµè§ˆå™¨æ‰“å¼€æŠ¥å‘Š` æŸ¥çœ‹è¯¦ç»†å›¾è¡¨ã€‚

### 2. å‘½ä»¤è¡Œä½¿ç”¨ (CLI)

åœ¨ç»ˆç«¯ä¸­æŒ‡å®šè·¯å¾„ï¼š

```bash
python project_stats.py /path/to/your/project
```

ç”Ÿæˆ HTML æŠ¥å‘Šå¹¶ç»Ÿè®¡èµ„æºæ–‡ä»¶ï¼š

```bash
python project_stats.py . --html --assets
```

---

## ğŸ“– å‘½ä»¤è¡Œå‚æ•°è¯¦è§£

### é»˜è®¤ç»Ÿè®¡å†…å®¹ï¼ˆæ— éœ€é…ç½®ï¼‰

å·¥å…·é»˜è®¤ä¼šè¾“å‡ºä»¥ä¸‹æ ¸å¿ƒç»Ÿè®¡ä¿¡æ¯ï¼š
- âœ… **æ–‡ä»¶ç±»å‹ç»Ÿè®¡** - å„ç±»æ–‡ä»¶çš„æ•°é‡åˆ†å¸ƒ
- âœ… **ä»£ç ç»Ÿè®¡** - æ¯ç§ç¼–ç¨‹è¯­è¨€çš„æ–‡ä»¶æ•°ã€ä»£ç è¡Œæ•°ï¼ˆå»é™¤ç©ºè¡Œå’Œæ³¨é‡Šï¼‰ã€æ€»å­—ç¬¦æ•°åŠå æ¯”
- âœ… **æ–‡ä»¶æ€»æ•°** - é¡¹ç›®ä¸­ç»Ÿè®¡åˆ°çš„æ–‡ä»¶æ€»æ•°

### å¯é€‰å‚æ•°

| å‚æ•° | è¯´æ˜ |
| :--- | :--- |
| `path` | **å¿…é€‰** (ä»… CLI æ¨¡å¼)ã€‚é¡¹ç›®æ ¹ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ä¸ºå½“å‰ç›®å½• `.`ã€‚ |
| `--html [FILE]` | ç”Ÿæˆäº¤äº’å¼ HTML å¯è§†åŒ–æŠ¥å‘Šã€‚å¯æŒ‡å®šæ–‡ä»¶åï¼Œé»˜è®¤ `project_stats_report.html`ã€‚ |
| `--assets` | **å¼ºçƒˆæ¨è**ã€‚é¢å¤–ç»Ÿè®¡éä»£ç /èµ„æºæ–‡ä»¶ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€æ¨¡å‹ã€äºŒè¿›åˆ¶æ•°æ®ç­‰ï¼‰ã€‚ |
| `--detail` | è¾“å‡ºç»†åˆ†ç»Ÿè®¡ï¼ˆæŒ‰æ–‡ä»¶åç¼€ååˆ†ç±»å±•ç¤ºï¼‰ã€‚ä¾‹å¦‚ï¼šæ ·å¼æ–‡ä»¶ç»†åˆ†ä¸º `.css`ã€`.scss`ã€`.less`ï¼›å›¾ç‰‡æ–‡ä»¶ç»†åˆ†ä¸º `.png`ã€`.jpg`ã€`.webp` ç­‰ã€‚ |
| `--list-files` | è¾“å‡ºæ‰€æœ‰è¢«ç»Ÿè®¡æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æ¸…å•ã€‚ |
| `--log [FILE]` | å°†ç»Ÿè®¡ç»“æœè¾“å‡ºåˆ°æ–‡æœ¬æ–‡ä»¶ã€‚å¯æŒ‡å®šæ–‡ä»¶åï¼Œé»˜è®¤ `project_stats.log`ã€‚ |
| `--no-ignore` | ä¸å¿½ç•¥å¸¸è§ç›®å½•ï¼ˆå¦‚ `.git`, `node_modules`, `dist` ç­‰ï¼‰ã€‚æ…ç”¨ï¼Œä¼šå¯¼è‡´ç»Ÿè®¡ç»“æœè™šé«˜ã€‚ |
| `--include-hidden` | åŒ…å«éšè—æ–‡ä»¶ï¼ˆä»¥ `.` å¼€å¤´çš„æ–‡ä»¶æˆ–ç›®å½•ï¼‰ã€‚ |

### å¸¸è§ç”¨æ³•ç¤ºä¾‹

**åœºæ™¯ 1ï¼šç»Ÿè®¡å½“å‰ç›®å½•ä»£ç ï¼ˆCLI æ¨¡å¼ï¼‰**
```bash
python project_stats.py .
```
*(æ³¨ï¼šå¦‚æœä¸å¸¦ `.` å‚æ•°ï¼Œå°†é»˜è®¤å¯åŠ¨ GUI ç•Œé¢)*

**åœºæ™¯ 2ï¼šç»Ÿè®¡æ¸¸æˆé¡¹ç›®ï¼ˆå«ç¾æœ¯èµ„æºï¼‰å¹¶ç”ŸæˆæŠ¥è¡¨**
```bash
python project_stats.py "D:/UnityProjects/MyGame" --assets --html
```

**åœºæ™¯ 3ï¼šæŸ¥çœ‹æ‰€æœ‰è¢«ç»Ÿè®¡çš„æ–‡ä»¶åˆ—è¡¨**
```bash
python project_stats.py . --list-files
```

---

## ğŸ› ï¸ æ”¯æŒçš„è¯­è¨€ä¸æ ¼å¼

æœ¬å·¥å…·å†…ç½®äº† **100+ ç§** æ–‡ä»¶åç¼€è¯†åˆ«è§„åˆ™ï¼Œè¦†ç›– 90% çš„å¼€å‘åœºæ™¯ï¼š

*   **ç¼–ç¨‹è¯­è¨€**: C, C++, C#, Java, Kotlin, Swift, Objective-C, Python, Ruby, PHP, Go, Rust, Dart, Lua, Perl, R, Shell, Batch, PowerShell...
*   **Web å¼€å‘**: HTML, CSS, SCSS, Less, JavaScript, TypeScript, JSON, XML, YAML, TOML, WASM...
*   **æ¸¸æˆå¼•æ“**: Unity (.unity, .prefab), Unreal Engine (.uasset), Godot (.gd, .tscn), RPG Maker, Ren'Py, Cocos/Laya (JS/TS)...
*   **å›¾å½¢æ¸²æŸ“**: Shader (HLSL/GLSL/CG), Material, Texture...
*   **ç¾æœ¯èµ„æº**:
    *   **2D**: Photoshop (PSD/PSB), Illustrator (AI), Aseprite, Clip Studio Paint, SAI, Krita...
    *   **3D**: FBX, OBJ, GLTF/GLB, Blender, Maya, 3ds Max, Cinema 4D...
    *   **åŠ¨ç”»**: Spine 2D, Live2D (Cubism)...
*   **éŸ³é¢‘è§†é¢‘**: DAWå·¥ç¨‹ (FL Studio/Cubase/Logic), éŸ³é¢‘ä¸­é—´ä»¶ (Wwise/FMOD/ADX2), WAV/MP3/MP4/MOV...
*   **ç­–åˆ’æ–‡æ¡£**: Markdown, Office (Word/Excel/PPT), PDF, MindMap (XMind), Axure, Draw.io...

---

## â“ å¸¸è§é—®é¢˜ (Q&A)

**Q: ä¸ºä»€ä¹ˆç”Ÿæˆçš„æŠ¥å‘Šä¸­â€œèµ„æºæ€»å¤§å°â€æ˜¾ç¤ºä¸º 0 Bï¼Ÿ**
A: èµ„æºç»Ÿè®¡æ˜¯ä¸€é¡¹å¯é€‰åŠŸèƒ½ï¼ˆä¸ºäº†æé«˜çº¯ä»£ç ç»Ÿè®¡çš„é€Ÿåº¦ï¼‰ã€‚
*   **CLI æ¨¡å¼**: è¯·åŠ¡å¿…æ·»åŠ  `--assets` å‚æ•°ã€‚
*   **GUI æ¨¡å¼**: è¯·ç¡®ä¿å‹¾é€‰äº†â€œç»Ÿè®¡èµ„æºæ–‡ä»¶â€é€‰é¡¹ï¼ˆé»˜è®¤å·²å‹¾é€‰ï¼‰ã€‚

**Q: åŒå‡»è„šæœ¬æ²¡æœ‰å¼¹å‡ºç•Œé¢ï¼Œè€Œæ˜¯æ‰“å¼€äº†ä»£ç ç¼–è¾‘å™¨ï¼Ÿ**
A: è¿™æ˜¯å› ä¸º `.py` æ–‡ä»¶è¢«å…³è”åˆ°äº†ç¼–è¾‘å™¨ã€‚
*   **è§£å†³æ–¹æ³• 1**: å³é”®æ–‡ä»¶ -> æ‰“å¼€æ–¹å¼ -> é€‰æ‹© Pythonã€‚
*   **è§£å†³æ–¹æ³• 2**: åœ¨æ–‡ä»¶å¤¹ç©ºç™½å¤„å³é”® -> "åœ¨ç»ˆç«¯ä¸­æ‰“å¼€" -> è¾“å…¥ `python project_stats.py`ã€‚

**Q: æ‰«æé€Ÿåº¦éå¸¸æ…¢ï¼Œæˆ–è€…å¡ä½äº†ï¼Ÿ**
A: è¯·æ£€æŸ¥æ˜¯å¦æ‰«æäº†åŒ…å«å¤§é‡æ–‡ä»¶çš„ç›®å½•ï¼ˆå¦‚ `node_modules`, `.git` ç­‰ï¼‰ã€‚
*   æœ¬å·¥å…·é»˜è®¤ä¼šè‡ªåŠ¨å¿½ç•¥è¿™äº›ç›®å½•ã€‚
*   **è¯·å‹¿**éšæ„å¼€å¯ `--no-ignore` é€‰é¡¹ï¼Œé™¤éä½ ç¡®å®éœ€è¦ç»Ÿè®¡å®ƒä»¬ã€‚

---

## ğŸ“ License

æœ¬é¡¹ç›®å¼€æºï¼Œéšæ„ä½¿ç”¨ä¸åˆ†å‘ã€‚
Happy Coding! ğŸš€

---

# English Version

# Omni-Project-Stats

A single-file, zero-dependency, cross-platform universal project statistics tool.

It not only counts code (intelligently strips comments and blank lines), but also analyzes art assets, audio, game engine files, making it perfect for **game development**, **multimedia projects**, or **full-stack engineering** volume analysis.

## âœ¨ Core Features

*   **Dual-Mode Operation**:
    *   ğŸ–¥ï¸ **GUI Mode**: Double-click to run, modern graphical interface, one-click scanning, real-time logs, supports visualization charts.
    *   âŒ¨ï¸ **CLI Mode**: Command-line execution, supports automation script integration, outputs detailed text reports.
*   **Comprehensive Statistics**:
    *   **Code**: Supports 50+ languages including C/C++, C#, Python, JS/TS, Java, Go, Rust, Lua, Shader (HLSL/GLSL), etc.
    *   **Assets**: Recognizes 3D models (FBX/OBJ/Blend), 2D textures (PSD/PNG/TGA), audio (WAV/MP3/Wwise), video, etc.
    *   **Engines**: Deep recognition of Unity, Unreal, Godot, RPG Maker, Cocos, and other project files.
*   **Smart Analysis**:
    *   Accurately strips comments (supports `//`, `/* */`, `#`, `<!-- -->`, `rem`, and other styles).
    *   Automatically ignores binary files and common interference directories (`.git`, `node_modules`, etc.).
*   **Zero Dependencies**:
    *   Built on Python standard library (`tkinter`, `argparse`, `pathlib`).
    *   No need for `pip install`, just download the single file `project_stats.py` and run.
*   **Visualization Reports**:
    *   Generate `project_stats_report.html` with one click.
    *   Embedded ECharts charts, visually displaying code distribution and asset size proportions.

---

## ğŸš€ Quick Start

### 1. Launch GUI

Run the script directly (without arguments):

```bash
python project_stats.py
```

*   **Operation**: Click `ğŸ“‚ Select Project Folder` -> Check options -> Click `ğŸš€ Start Scanning Project`.
*   **Result**: After scanning, click `ğŸŒ Open Report in Browser` at the bottom to view detailed charts.

### 2. Command-Line Usage (CLI)

Specify path in terminal:

```bash
python project_stats.py /path/to/your/project
```

Generate HTML report and count asset files:

```bash
python project_stats.py . --html --assets
```

---

## ğŸ“– Command-Line Parameters

### Default Statistics (No Configuration Required)

The tool outputs the following core statistics by default:
- âœ… **File Type Statistics** - Distribution of various file types
- âœ… **Code Statistics** - File count, lines of code (excluding blank lines and comments), total characters, and percentages for each programming language
- âœ… **Total File Count** - Total number of files counted in the project

### Optional Parameters

| Parameter | Description |
| :--- | :--- |
| `path` | **Required** (CLI mode only). Project root directory path, defaults to current directory `.`. |
| `--html [FILE]` | Generate interactive HTML visualization report. Can specify filename, defaults to `project_stats_report.html`. |
| `--assets` | **Highly recommended**. Additionally count non-code/asset files (images, audio, models, binary data, etc.). |
| `--detail` | Output detailed statistics (classified by file extension). For example: Style files breakdown into `.css`, `.scss`, `.less`; images breakdown into `.png`, `.jpg`, `.webp`, etc. |
| `--list-files` | Output relative paths of all counted files. |
| `--log [FILE]` | Output statistics to a text file. Can specify filename, defaults to `project_stats.log`. |
| `--no-ignore` | Don't ignore common directories (like `.git`, `node_modules`, `dist`, etc.). Use with caution, may inflate results. |
| `--include-hidden` | Include hidden files (files or directories starting with `.`). |

### Common Usage Examples

**Scenario 1: Count current directory code (CLI mode)**
```bash
python project_stats.py .
```
*(Note: If no `.` argument is provided, GUI interface will launch by default)*

**Scenario 2: Count game project (including art assets) and generate report**
```bash
python project_stats.py "D:/UnityProjects/MyGame" --assets --html
```

**Scenario 3: View list of all counted files**
```bash
python project_stats.py . --list-files
```

---

## ğŸ› ï¸ Supported Languages and Formats

This tool has built-in recognition for **100+ file extensions**, covering 90% of development scenarios:

*   **Programming Languages**: C, C++, C#, Java, Kotlin, Swift, Objective-C, Python, Ruby, PHP, Go, Rust, Dart, Lua, Perl, R, Shell, Batch, PowerShell...
*   **Web Development**: HTML, CSS, SCSS, Less, JavaScript, TypeScript, JSON, XML, YAML, TOML, WASM...
*   **Game Engines**: Unity (.unity, .prefab), Unreal Engine (.uasset), Godot (.gd, .tscn), RPG Maker, Ren'Py, Cocos/Laya (JS/TS)...
*   **Graphics Rendering**: Shader (HLSL/GLSL/CG), Material, Texture...
*   **Art Assets**:
    *   **2D**: Photoshop (PSD/PSB), Illustrator (AI), Aseprite, Clip Studio Paint, SAI, Krita...
    *   **3D**: FBX, OBJ, GLTF/GLB, Blender, Maya, 3ds Max, Cinema 4D...
    *   **Animation**: Spine 2D, Live2D (Cubism)...
*   **Audio & Video**: DAW projects (FL Studio/Cubase/Logic), Audio middleware (Wwise/FMOD/ADX2), WAV/MP3/MP4/MOV...
*   **Planning Documents**: Markdown, Office (Word/Excel/PPT), PDF, MindMap (XMind), Axure, Draw.io...

---

## â“ Frequently Asked Questions (FAQ)

**Q: Why does the generated report show "Total Asset Size" as 0 B?**
A: Asset statistics is an optional feature (to improve pure code statistics speed).
*   **CLI Mode**: Make sure to add the `--assets` parameter.
*   **GUI Mode**: Ensure "Count Asset Files" option is checked (checked by default).

**Q: Double-clicking the script doesn't open the GUI, but opens a code editor instead?**
A: This is because `.py` files are associated with an editor.
*   **Solution 1**: Right-click file -> Open with -> Choose Python.
*   **Solution 2**: Right-click in folder blank area -> "Open in Terminal" -> Type `python project_stats.py`.

**Q: Scanning is very slow or stuck?**
A: Check if scanning directories with many files (like `node_modules`, `.git`, etc.).
*   This tool automatically ignores these directories by default.
*   **Don't** enable `--no-ignore` option casually unless you really need to count them.

---

## ğŸ“ License

This project is open source, free to use and distribute.
Happy Coding! ğŸš€
